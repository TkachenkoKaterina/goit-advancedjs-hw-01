{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\nconst LSKey = 'feedback-form-state';\n\nconst inputObj = {\n  email: '',\n  message: '',\n};\n\nrefs.form.addEventListener('input', handlerInput);\nrefs.form.addEventListener('submit', handlerSubmit);\n\nconst storedData = localStorage.getItem(LSKey);\nif (storedData) {\n  const parsedData = JSON.parse(storedData);\n  inputObj.email = parsedData.email;\n  inputObj.message = parsedData.message;\n  refs.form.elements.email.value = inputObj.email;\n  refs.form.elements.message.value = inputObj.message;\n}\n\nconst setItemToLS = throttle(() => {\n  localStorage.setItem(LSKey, JSON.stringify(inputObj));\n}, 500);\n\nfunction handlerInput(evt) {\n  inputObj.email = evt.currentTarget.elements.email.value;\n  inputObj.message = evt.currentTarget.elements.message.value;\n  setItemToLS(inputObj);\n}\n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n  console.log('data', inputObj);\n  evt.currentTarget.reset();\n  localStorage.removeItem(LSKey);\n}\n"],"names":["refs","LSKey","inputObj","handlerInput","handlerSubmit","storedData","parsedData","setItemToLS","throttle","evt"],"mappings":"wIAEA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EACMC,EAAQ,sBAERC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEAF,EAAK,KAAK,iBAAiB,QAASG,CAAY,EAChDH,EAAK,KAAK,iBAAiB,SAAUI,CAAa,EAElD,MAAMC,EAAa,aAAa,QAAQJ,CAAK,EAC7C,GAAII,EAAY,CACd,MAAMC,EAAa,KAAK,MAAMD,CAAU,EACxCH,EAAS,MAAQI,EAAW,MAC5BJ,EAAS,QAAUI,EAAW,QAC9BN,EAAK,KAAK,SAAS,MAAM,MAAQE,EAAS,MAC1CF,EAAK,KAAK,SAAS,QAAQ,MAAQE,EAAS,OAC9C,CAEA,MAAMK,EAAcC,EAAS,IAAM,CACjC,aAAa,QAAQP,EAAO,KAAK,UAAUC,CAAQ,CAAC,CACtD,EAAG,GAAG,EAEN,SAASC,EAAaM,EAAK,CACzBP,EAAS,MAAQO,EAAI,cAAc,SAAS,MAAM,MAClDP,EAAS,QAAUO,EAAI,cAAc,SAAS,QAAQ,MACtDF,EAAYL,CAAQ,CACtB,CAEA,SAASE,EAAcK,EAAK,CAC1BA,EAAI,eAAc,EAClB,QAAQ,IAAI,OAAQP,CAAQ,EAC5BO,EAAI,cAAc,QAClB,aAAa,WAAWR,CAAK,CAC/B"}